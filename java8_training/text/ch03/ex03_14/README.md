# 練習問題 3-14

ピクセル単位の遅延評価を扱うために、今までのtransformerを変更して、画像内の他のピクセルを読み込むことができるPixelReaderを渡すようにしなさい。たとえば、(x, y, reader) -> reader.getColor(width - (x + 1), y)は、鏡像操作です。前の練習問題からの畳込みフィルターであれば、リーダーの観点からは容易に実装できます。素直な操作は、単に(x, y, reader) -> reader.getColor(x, y).grayscale()の形式であり、UnaryOperation<Color>からのアダプターを提供することができます。PixelReaderは、操作のパイプライン中の特定のレベルにあります。パイプライン中の個々のレベルで最近読み込まれたピクセルのキャッシュを保持するようにしてください。ピクセルを求められたら、リーダーはキャッシュ（あるいは、レベル0なら元画像）を調べます。ピクセルがなければリーダーを構築し、そのリーダーはピクセルを前段階で求めます。
